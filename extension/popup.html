<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ChaiDocs Assistant</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Custom CSS for Gradient and Bot -->
  <style>
    body {
      animation: gradientBG 12s ease infinite;
      background: linear-gradient(-45deg, #4158D0, #C850C0, #FFCC70, #4CA1AF);
      background-size: 400% 400%;
      color: white;
      min-height: 100vh;
      font-family: 'Segoe UI', sans-serif;
      width: 380px; /* Force a fixed width */
      max-width: 100%;
      min-width: 360px;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .chat-box {
      background-color: rgba(255, 255, 255, 0.1);
      color: #fff;
    }

    .chat-card {
      background-color: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(4px);
    }

    #botIcon {
      transition: opacity 0.3s ease;
    }

    #loader {
      font-size: 0.9rem;
      color: #ccc;
      margin-top: 4px;
    }
  </style>
</head>

<body class="container py-3">
  <!-- Bot Avatar Section -->
  <div id="botTop" class="text-center mb-3">
    <img id="botIcon" src="assets/icon16.png" alt="Bot" width="60" />
  </div>

  <!-- Chat Container -->
  <div id="chatContainer" class="chat-box border rounded p-2 mb-3" style="height: 300px; overflow-y: auto;">
    <!-- Previous Q/A will be injected here -->
  </div>

  <!-- Query Input -->
  <textarea id="userQuery" class="form-control mb-2" rows="3" placeholder="Ask your query..."></textarea>
  <button id="askBtn" class="btn btn-light w-100 fw-bold">Ask</button>

  <!-- Fallback if lottie not allowed -->
  <script type="module" src="lottie-player.mjs"></script>
  <script src="popup.js"></script>
</body>
</html>
